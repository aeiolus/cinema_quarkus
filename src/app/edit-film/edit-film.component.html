<div class="container">
    <div class="form-container">
        <div class="form-header">
            <h2>Edit Film</h2>
        </div>

        <div *ngIf="isLoading" class="loading">
            Loading film details...
        </div>

        <form *ngIf="!isLoading" (ngSubmit)="updateFilm()" #filmForm="ngForm">
            <div class="form-group">
                <label for="title">Title</label>
                <input type="text" id="title" name="title" [(ngModel)]="film.title" required>
            </div>

            <div class="form-group">
                <label for="state">State</label>
                <select id="state" name="state" [(ngModel)]="film.state" required>
                    <option value="OPEN">Open</option>
                    <option value="ACTIVE">Active</option>
                    <option value="INACTIVE">Inactive</option>
                </select>
            </div>

            <div class="form-group">
                <label for="notes">Notes</label>
                <textarea id="notes" name="notes" [(ngModel)]="film.notes" rows="4"></textarea>
            </div>

            <div class="form-actions">
                <button type="submit" class="button button-primary" [disabled]="!filmForm.form.valid || isSubmitting">
                    {{ isSubmitting ? 'Saving...' : 'Update Film' }}
                </button>
                <button type="button" class="button" routerLink="/films" [disabled]="isSubmitting">Cancel</button>
            </div>
        </form>
    </div>
</div>
